{% extends 'base.html' %}

{% block content %}
{% if question is none %}
<div class="container">
  <div class="jumbotron my-4">
    <h1>You have completed all available questions!</h1>
    <p>Check the leaderboard to see how you rank against others.</p>
    <a href="{{ url_for('quiz.leaderboard') }}" class="btn btn-primary">View Leaderboard</a>
  </div>
</div>
{% else %}
<div class="container">
  <div class="jumbotron my-4">
    <!-- Display question HTML safely -->
    {{ question.text|safe }}

    <form method="POST" action="{{ url_for('quiz.play') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <input type="hidden" name="question_pk" value="{{ question.id }}">

      {% for choice in choices %}
      <div class="form-check my-3">
        <input class="form-check-input" type="radio" name="choice_pk" id="choice{{ loop.index }}"
          value="{{ choice.id }}" required>
        <label class="form-check-label" for="choice{{ loop.index }}">
          {{ choice.text|safe }}
        </label>
      </div>
      {% endfor %}

      <button type="submit" class="btn btn-primary mt-3">Submit Answer</button>
    </form>
  </div>
</div>
{% endif %}
{% endblock %}